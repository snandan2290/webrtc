<nz-header [ngClass]="
    isTeamsSSO() === false ? 'shell__header' : isMobileDevice ? 'shell__header_teams-mobile' : 'shell__header_teams'
">
    <div class="shell__hFolder">
        <div class="shell__hLogo" *ngIf="appEmbededStatus !== 'messaging'">
            <img class="shell__hLogo_img" [src]="imgCustomBrandingLogo" />
        </div>
        <div class="shell__rightSide">

            <div *ngIf="showWarningIcon()" nz-popover [nzPopoverContent]=popOverContent nzPopoverPlacement="leftTop"
                class="info-icon">
                <img src="assets/icons/movius/messages/Warning.svg">
            </div>

            <div class="shell__hUser" *ngIf="!isMobileDevice">
                <communication-item [addCustomLogo]="true">
                    <!-- TODO CB: 03Feb2021 Add and use full user-model here -->
                    <movius-web-contact-logo *ngIf="isTeamsSSO() === false" class="shell__selfLogo" customLogo [peer]="{
                        img: userInfo?.img,
                        contact: {
                            firstName: rootFirstName,
                            lastName: rootLastName
                        }
                    }" [alt]="'Self Logo'" [externalStyleClass]="">
                    </movius-web-contact-logo>
                    <a class="shell__title" title nz-dropdown [nzDropdownMenu]="menu" [nzClickHide]="false"
                        [nzPlacement]="'bottomRight'" [nzOverlayClassName]="'roundedDropdown'">
                        <div class="shell__title--up" *ngIf="isTeamsSSO() === false" title="{{
                            rootFirstName === null
                                ? userInfo?.name
                                : rootFirstName + ' ' + rootLastName
                        }}">
                            {{
                            rootFirstName === null
                            ? userInfo?.name
                            : rootFirstName + ' ' + rootLastName
                            }}
                        </div>
                        <div class="shell__title--down" [ngClass]="isMessaging()">
                            <span>{{
                                formatNumber(userInfo?.multiLine)
                                }}</span>
                        </div>
                    </a>
                    <nz-dropdown-menu #menu="nzDropdownMenu">
                        <div class="shell__dropMenu" *ngIf="isTeamsSSO() === false">
                            <div class="shell__dropMenuSection--top">
                                <div class="shell__dropMenuItem--title">
                                    {{
                                    rootFirstName === null
                                    ? userInfo?.name
                                    : rootFirstName +
                                    ' ' +
                                    rootLastName
                                    }}
                                </div>
                                <div class="shell__dropMenuItem--email">
                                    <div>
                                        {{ rootEmailId }}
                                    </div>
                                </div>
                                <div class="shell__dropMenuItem--phone">
                                    <img class="shell__dropMenuIco"
                                        src="{{GetTheme() == 'Dark' ? 'assets/icons/dark_theme_icons/dark-icons-all-work-phone-black.svg': 'assets/icons/movius/common/icons-all-work-phone-black.svg'}}"
                                        alt="Suitcase" />
                                    <div>
                                        {{
                                        formatNumber(
                                        userInfo.multiLine
                                        )
                                        }}
                                    </div>
                                </div>
                            </div>
                            <div class="shell__dropMenuSection" *ngIf="isTeamsSSO() === false">

                                <div class="shell__dropMenuItem--logout" (click)="onLogoutCLicked.emit()">
                                    Log Out
                                </div>
                            </div>
                        </div>
                    </nz-dropdown-menu>
                </communication-item>
            </div>
            <div class="mute-icoming-icon" nz-popover [nzPopoverContent]="MuteStatusPopover"
                [nzPopoverOverlayClassName]="'muteIconToolTip'" nzTooltipPlacement="below"
                *ngIf="appEmbededStatus !== 'messaging'">
                <svg class="svg-mute-incoming" *ngIf="!MuteinboundCallAndMsgSound" (click)="changeMuteStatus(true)"
                    width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g id="icn_speaker" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <rect id="Rectangle" fill="#F5F5F5" x="0" y="0" width="32" height="32" rx="2"></rect>
                        <path
                            d="M13.8190751,22.7853205 C14.0888247,22.7853205 14.311368,22.6992264 14.4867052,22.527038 C14.6620424,22.3548497 14.749711,22.1342333 14.749711,21.8651891 L14.749711,10.1779051 C14.749711,9.91424166 14.6620424,9.68824446 14.4867052,9.49991345 C14.311368,9.31158245 14.0861272,9.21741695 13.8109827,9.21741695 C13.622158,9.21741695 13.4508671,9.26046404 13.2971098,9.34655821 C13.1433526,9.43265238 12.9666667,9.57255541 12.767052,9.7662673 L9.5300578,12.7849442 C9.48689788,12.8279913 9.42485549,12.8495149 9.34393064,12.8495149 L7.16705202,12.8495149 C6.62755299,12.8495149 6.21483622,12.9974892 5.92890173,13.293438 C5.64296724,13.5893867 5.5,14.022548 5.5,14.5929219 L5.5,17.4340296 C5.5,18.0097844 5.64296724,18.4429457 5.92890173,18.7335135 C6.21483622,19.0240813 6.62755299,19.1693653 7.16705202,19.1693653 L9.34393064,19.1693653 C9.42485549,19.1693653 9.48689788,19.1935792 9.5300578,19.2420072 L12.767052,22.2929695 C12.9504817,22.4651578 13.1244701,22.5902634 13.2890173,22.6682863 C13.4535645,22.7463091 13.6302505,22.7853205 13.8190751,22.7853205 Z M17.4768786,19.3227205 C17.6225434,19.4249573 17.7816956,19.4585879 17.9543353,19.4236121 C18.126975,19.3886364 18.2672447,19.2931256 18.3751445,19.1370799 C18.682659,18.7388944 18.9200385,18.2653764 19.0872832,17.7165261 C19.2545279,17.1676757 19.3381503,16.5946114 19.3381503,15.9973331 C19.3381503,15.4000547 19.2545279,14.8283356 19.0872832,14.2821757 C18.9200385,13.7360158 18.682659,13.2584622 18.3751445,12.8495149 C18.2672447,12.6988501 18.126975,12.6060298 17.9543353,12.571054 C17.7816956,12.5360783 17.6225434,12.5697088 17.4768786,12.6719456 C17.3042389,12.7903251 17.2044316,12.9436804 17.1774566,13.1320114 C17.1504817,13.3203424 17.2044316,13.5059829 17.3393064,13.6889331 C17.555106,13.9956436 17.7223507,14.3494368 17.8410405,14.7503128 C17.9597303,15.1511888 18.0190751,15.5668622 18.0190751,15.9973331 C18.0190751,16.4278039 17.9597303,16.8421321 17.8410405,17.2403177 C17.7223507,17.6385032 17.555106,17.9909513 17.3393064,18.2976618 C17.2044316,18.4859928 17.1504817,18.6743238 17.1774566,18.8626548 C17.2044316,19.0509858 17.3042389,19.204341 17.4768786,19.3227205 Z M20.4306358,21.3405527 C20.5870906,21.4427895 20.7529865,21.4764201 20.9283237,21.4414443 C21.1036609,21.4064685 21.2452794,21.3082674 21.3531792,21.1468408 C21.8495183,20.4580874 22.2366089,19.665752 22.5144509,18.7698345 C22.7922929,17.873917 22.9312139,16.9497499 22.9312139,15.9973331 C22.9312139,15.0449163 22.7936416,14.1180587 22.5184971,13.2167603 C22.2433526,12.315462 21.8549133,11.525817 21.3531792,10.8478254 C21.2452794,10.6863988 21.1036609,10.5868524 20.9283237,10.5491862 C20.7529865,10.51152 20.5870906,10.5464957 20.4306358,10.6541135 C20.2687861,10.7617312 20.1770713,10.9056699 20.1554913,11.0859295 C20.1339114,11.2661892 20.1824663,11.4477941 20.3011561,11.6307442 C20.7165703,12.2172608 21.0375723,12.8898715 21.2641618,13.6485764 C21.4907514,14.4072813 21.6040462,15.1902002 21.6040462,15.9973331 C21.6040462,16.8044659 21.4894027,17.5860396 21.2601156,18.3420541 C21.0308285,19.0980685 20.7111753,19.7720245 20.3011561,20.3639219 C20.1824663,20.546872 20.1339114,20.7284769 20.1554913,20.9087366 C20.1770713,21.0889963 20.2687861,21.232935 20.4306358,21.3405527 Z M23.4086705,23.3825989 C23.5651252,23.4902166 23.7323699,23.5238471 23.9104046,23.4834905 C24.0884393,23.4431338 24.2368015,23.3395518 24.3554913,23.1727443 C24.7978805,22.5108954 25.1809249,21.7992732 25.5046243,21.0378779 C25.8283237,20.2764825 26.0751445,19.4733853 26.2450867,18.6285862 C26.4150289,17.7837872 26.5,16.9067028 26.5,15.9973331 C26.5,15.0933443 26.4136802,14.2176051 26.2410405,13.3701156 C26.0684008,12.5226261 25.8202312,11.7181836 25.4965318,10.9567883 C25.1728324,10.1953929 24.7924855,9.48646124 24.3554913,8.82999317 C24.2368015,8.65780482 24.0884393,8.55287755 23.9104046,8.51521135 C23.7323699,8.47754515 23.5651252,8.50983046 23.4086705,8.61206729 C23.2468208,8.71968501 23.155106,8.86496893 23.133526,9.04791905 C23.1119461,9.23086916 23.160501,9.41112884 23.2791908,9.58869807 C23.6676301,10.1805955 24.004817,10.81554 24.2907514,11.4935316 C24.5766859,12.1715233 24.7978805,12.8885263 24.9543353,13.6445408 C25.11079,14.4005552 25.1890173,15.1848193 25.1890173,15.9973331 C25.1890173,16.8098468 25.11079,17.5954562 24.9543353,18.3541611 C24.7978805,19.112866 24.5766859,19.8325594 24.2907514,20.5132415 C24.004817,21.1939236 23.6676301,21.8248324 23.2791908,22.4059681 C23.160501,22.5835373 23.1119461,22.763797 23.133526,22.9467471 C23.155106,23.1296972 23.2468208,23.2749811 23.4086705,23.3825989 Z"
                            id="Shape" fill="#1F1E33" fill-rule="nonzero"></path>
                    </g>
                </svg>
                <svg class="svg-mute-incoming" *ngIf="MuteinboundCallAndMsgSound" (click)="changeMuteStatus(false)"
                    width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g id="icn_speaker" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <rect id="Rectangle" fill="#F5F5F5" x="0" y="0" width="32" height="32" rx="2"></rect>
                        <path
                            d="M11.773643,18.7807115 L14.0316172,18.7807115 C14.1043649,18.7807115 14.1687185,18.8057254 14.2246782,18.8557532 L17.6242306,22.0075042 C17.8144936,22.1853808 17.9949636,22.3146192 18.1656407,22.3952196 C18.3363179,22.4758199 18.5195859,22.5161201 18.7154449,22.5161201 C18.9280918,22.5161201 19.1127588,22.4619233 19.269446,22.3535297 C19.4261332,22.2451362 19.5408506,22.0769872 19.6135982,21.8490828 L10.4641858,12.7690384 C10.2123671,13.0469705 10.0864578,13.4638688 10.0864578,14.0197332 L10.0864578,17.0214008 C10.0864578,17.6161757 10.227756,18.0580878 10.5103525,18.3471373 C10.7929491,18.6361868 11.2140459,18.7807115 11.773643,18.7807115 Z M19.6807499,17.4966648 L19.6807499,9.4922179 C19.6807499,9.21984436 19.5884163,8.98638132 19.4037493,8.79182879 C19.2190823,8.59727626 18.9840515,8.5 18.698657,8.5 C18.502798,8.5 18.3265249,8.54446915 18.1698377,8.63340745 C18.0131505,8.72234575 17.8312815,8.86687048 17.6242306,9.06698166 L14.4848909,11.9519177 C14.4401231,11.9908282 14.3981533,12.0102835 14.3589815,12.0102835 L14.1491326,12.0102835 L19.6807499,17.4966648 Z M22.4423615,23.3165648 C22.5598769,23.4388549 22.7053721,23.5 22.8788472,23.5 C23.0523223,23.5 23.2006156,23.4388549 23.3237269,23.3165648 C23.4412423,23.1942746 23.5,23.0483602 23.5,22.8788216 C23.5,22.7092829 23.4412423,22.5605892 23.3237269,22.4327404 L9.56603246,8.78349083 C9.44851707,8.66675931 9.30162283,8.60839355 9.12534975,8.60839355 C8.94907666,8.60839355 8.79938444,8.66675931 8.67627308,8.78349083 C8.55875769,8.90022235 8.5,9.04613674 8.5,9.22123402 C8.5,9.3963313 8.55875769,9.54224569 8.67627308,9.65897721 L22.4423615,23.3165648 Z"
                            id="Shape" fill="#1F1E33" fill-rule="nonzero"></path>
                    </g>
                </svg>
            </div>
        </div>
        <div class="shell__mutilineUser_imgMobile" *ngIf="isMobileDevice">
            <!-- <img class="shell__suitcase-mobile" src="assets/icons/movius/common/icons-all-work-phone-black.svg"
                alt="Suitcase" /> -->
            <div class="shell__title-mobile">
                <span>{{
                    formatNumber(userInfo?.multiLine)
                    }}</span>
            </div>
        </div>
        <!-- <div class="mode" (click)="toggleMode()">
            Mode
        </div> -->
        <div class="shell__settings-icon" nz-dropdown [nzDropdownMenu]="menuSettings" [nzClickHide]="false"
            [nzPlacement]="'bottomRight'" [nzOverlayClassName]="'roundedDropdown'"
            *ngIf="appEmbededStatus === 'messaging'">
            <nz-dropdown-menu #menuSettings="nzDropdownMenu">
                <ul nz-menu class="shell__settings-list">
                    <li nz-menu-item *ngIf="view.isE911Available">
                        <div (click)="openE911Msg()">E911</div>
                    </li>
                    <li nz-menu-item>
                        <div (click)="openTermsAndConditionMsg()">
                            About
                        </div>
                    </li>
                    <li nz-menu-item *ngIf="isTeamsSSO() === false">
                        <div (click)="openchangePasswordMsg()">
                            Change Password
                        </div>
                    </li>
                    <li nz-menu-item>
                        <div (click)="openHelpDetails()">Report an issue</div>
                    </li>
                </ul>
            </nz-dropdown-menu>
            <svg width="18px" height="18px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="Messages:-Empty-Copy-18" transform="translate(-1218.000000, -125.000000)" fill="#5C5FC8">
                        <g id="icons/nav/setup-active" transform="translate(1218.000000, 125.000000)">
                            <path
                                d="M8.90477937,0 L8.40552819,2.75003267 C7.92057725,2.90247091 7.44997893,3.0999154 7.00593819,3.33115386 L4.69786401,1.74333738 L1.73514797,4.70603925 L3.33116981,7.00590467 C3.09892974,7.45093852 2.90352458,7.91849646 2.75004583,8.40548796 L0,8.90473675 L0,13.0952627 L2.75004583,13.5945115 C2.90350887,14.0825245 3.1060851,14.5480133 3.33934137,14.9940948 L1.73514797,17.2939602 L4.69786401,20.2566621 L6.99774044,18.6688456 C7.44379787,18.902106 7.91748672,19.0964888 8.405502,19.2499668 L8.90475317,22 L13.0952992,22 L13.5945504,19.2499668 C14.0815442,19.0965045 14.5490782,18.9011055 14.9941404,18.6688456 L17.2940168,20.2566621 L20.2567329,17.2939602 L18.660711,14.9940948 C18.891927,14.5500824 19.0893777,14.0876579 19.241835,13.6027092 L22,13.0952627 L22,8.90473675 L19.241835,8.40548796 C19.089396,7.92156078 18.8991007,7.45709336 18.6689088,7.01410238 L20.2567329,4.70603925 L17.2940168,1.74333738 L14.9941404,3.33115386 C14.5491044,3.09891491 14.0815442,2.90351069 13.5945504,2.75003267 L13.0952992,0 L8.90477937,0 Z M11.0000524,6.28578897 C13.6037958,6.28578897 15.7144167,8.39639976 15.7144167,11.0001307 C15.7144167,13.6038616 13.6037958,15.7144724 11.0000524,15.7144724 C8.39630899,15.7144724 6.28568809,13.6038616 6.28568809,11.0001307 C6.28568809,8.39639976 8.39630899,6.28578897 11.0000524,6.28578897 Z">
                            </path>
                        </g>
                    </g>
                </g>
            </svg>
        </div>
    </div>
</nz-header>
